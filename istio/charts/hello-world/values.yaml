# Default values for hello-world.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1

image:
  repository: nginx
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: ""

nameOverride: ""
fullnameOverride: ""

serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

service:
  type: ClusterIP #LoadBalancer # NodePort # LoadBalancer
  port: 80
deployEnv: "prod"
customIndex: true

gateway:
  - namespace: istio-system
    ingress:
      - name: istio-ingressgateway
        selector:
          service.istio.io/canonical-name: istio-ingressgateway
        ports:
          - protocol: HTTPS
            number: 443
            name: https
            tls:
              credentialName: ingress-gw-tls
              mode: SIMPLE
            hosts:
              - '"*"'
    egress:
      - name: istio-egressgateway
        selector:
          service.istio.io/canonical-name: istio-egressgateway
        ports:
          - protocol: TLS
            number: 443
            name: tls
            tls:
              mode: PASSTHROUGH
            hosts:
              - '"*"'
egress:
  - namespace: default
    rules:
      - protocol: https
        port: 443
        destination: istio-egressgateway.istio-system.svc.cluster.local
        gateway: istio-system/istio-egressgateway
        hosts:
          - "vnexpress.net"